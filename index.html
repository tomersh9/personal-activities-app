<!DOCTYPE html>
<html lang="he" dir="rtl">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>מעקב פעילויות</title>
		<link rel="icon" type="image/png" href="favicon.png" />
		<link rel="apple-touch-icon" href="icon-32.png" />
		<link rel="manifest" href="manifest.json" />
		<meta name="theme-color" content="#667eea" />
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<div class="container">
			<div class="header">
				<h1>📊 מעקב פעילויות</h1>
			</div>

			<div class="nav">
				<button class="nav-btn add-btn" onclick="openCreateActivityModal()">+</button>
				<button class="nav-btn active" onclick="showPage('home')">בית</button>
				<button class="nav-btn" onclick="showPage('report')">היסטוריה</button>
				<button class="nav-btn refresh-btn" onclick="renderActivities()">🔄</button>
			</div>

			<div id="homePage" class="page active">
				<div class="activities-grid" id="activitiesGrid"></div>
			</div>

			<div id="reportPage" class="page">
				<div class="history-list" id="historyList"></div>
			</div>
		</div>

		<!-- Create Activity Modal -->
		<div id="createActivityModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">יצירת פעילות חדשה</div>
				<div class="form-group">
					<label>שם הפעילות</label>
					<input type="text" id="newActivityName" placeholder="לדוגמה: חדר כושר, קפה, לימודים" />
				</div>
				<div class="form-group">
					<div class="checkbox-group">
						<input type="checkbox" id="newActivityHasPrice" />
						<label>כולל מעקב מחיר</label>
					</div>
				</div>
				<div class="form-buttons">
					<button class="btn btn-primary" onclick="createActivity()">צור</button>
					<button class="btn btn-secondary" onclick="closeModal('createActivityModal')">ביטול</button>
				</div>
			</div>
		</div>

		<!-- Log Activity Modal -->
		<div id="logActivityModal" class="modal">
			<div class="modal-content">
				<div class="modal-header" id="logActivityTitle"></div>
				<div class="form-group" id="priceGroup" style="display: none">
					<label>מחיר (₪)</label>
					<input type="number" id="activityPrice" placeholder="0.00" step="1" />
				</div>
				<div class="previous-logs" id="previousLogs"></div>
				<div class="form-buttons">
					<button class="btn btn-primary" onclick="logActivity()">שמור</button>
					<button class="btn btn-secondary" onclick="closeModal('logActivityModal')">ביטול</button>
				</div>
			</div>
		</div>

		<!-- Edit Log Modal -->
		<div id="editLogModal" class="modal">
			<div class="modal-content">
				<div class="modal-header" id="editLogTitle"></div>
				<div class="form-group">
					<label>תאריך וזמן</label>
					<input type="datetime-local" id="editLogDate" />
				</div>
				<div class="form-group" id="editPriceGroup" style="display: none">
					<label>מחיר (₪)</label>
					<input type="number" id="editLogPrice" placeholder="0.00" step="1" />
				</div>
				<div class="form-buttons">
					<button class="btn btn-primary" onclick="saveLogEdit()">שמור</button>
					<button class="btn btn-secondary" onclick="closeModal('editLogModal')">ביטול</button>
				</div>
			</div>
		</div>

		<!-- Delete Confirmation Modal -->
		<div id="deleteConfirmModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">למחוק פעילות?</div>
				<p style="margin-bottom: 20px; color: #666">האם אתה בטוח שברצונך למחוק את הפעילות הזו? כל הרישומים יימחקו גם כן. פעולה זו לא ניתנת לביטול.</p>
				<div class="form-buttons">
					<button class="btn btn-primary" style="background: #e63946" onclick="confirmDelete()">מחק</button>
					<button class="btn btn-secondary" onclick="closeModal('deleteConfirmModal')">ביטול</button>
				</div>
			</div>
		</div>

		<!-- Edit Activity Modal -->
		<div id="editActivityModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">עריכת פעילות</div>
				<div class="form-group">
					<label>שם הפעילות</label>
					<input type="text" id="editActivityName" placeholder="שם הפעילות" />
				</div>
				<div class="form-group">
					<label>בחר צבע</label>
					<div class="color-picker" id="colorPicker"></div>
				</div>
				<div class="form-buttons">
					<button class="btn btn-primary" onclick="saveActivityEdit()">שמור</button>
					<button class="btn btn-secondary" onclick="closeModal('editActivityModal')">ביטול</button>
				</div>
			</div>
		</div>

		<script src="script.js"></script>
	</body>
</html>
